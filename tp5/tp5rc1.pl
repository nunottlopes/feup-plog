a(X,Y) :- b(X), c(X), !, d(Y), e(Y).
a(X,Y) :- f(X), g(Y).

b(1). b(2).
c(1). c(2).
d(1). d(2).
e(1). e(2).

f(3). f(4).
g(3). g(4).